

# vi的常用命令

### 1.移动

| 命令 | 功能 | 手指   |
| ---- | ---- | ------ |
| h    | 向左 | 食指   |
| j    | 向下 | 食指   |
| k    | 向上 | 中指   |
| l    | 向右 | 无名指 |

### 2.单词移动

| 命令 | 英文 | 功能                           |
| ---- | ---- | ------------------------------ |
| w    | word | 向后移动一个单词               |
| b    | back | 向前移动一个单词               |
| 0    |      | 行首                           |
| ^    |      | 行首，第一个不是空白字符的位置 |
| $    |      | 行尾                           |

### 3.行数移动

| 命令   | 英文 | 功能                           |
| ------ | ---- | ------------------------------ |
| gg     | go   | 文件顶部                       |
| G      | go   | 文件尾部                       |
| 数字gg | go   | 移动到 数字 对应行数           |
| 数字G  | go   | 移动到 数字 对应行数           |
| :数字  |      | 末行模式，移动到 数字 对应行数 |

### 4.屏幕移动

| 命令     | 英文   | 功能     |
| -------- | ------ | -------- |
| ctrl + b | back   | 向上翻页 |
| ctrl + f | foward | 向下翻页 |
| H        | Head   | 屏幕顶部 |
| M        | Middle | 屏幕中间 |
| L        | Low    | 屏幕底部 |
|          |        |          |

### 5.段落移动

| 命令 | 功能   |
| ---- | ------ |
| ｛   | 上一段 |
| ｝   | 下一段 |

### 6.括号切换

| 命令 | 功能       |
| ---- | ---------- |
| %    | 括号匹配及 |

### 7.标记

| 命令 | 英文 | 功能                                      |
| ---- | ---- | ----------------------------------------- |
| mx   | mark | 添加标记x,x是a~z或者A~Z之间的任意一个字母 |
| ‘x   |      | 直接定位到标记x所在位置                   |

### 8.选中文本（可视模式）

| 命令     | 模式       | 功能                               |
| -------- | ---------- | ---------------------------------- |
| v        | 可视模式   | 从光标位置开始按照正常模式选择文本 |
| V        | 可视行模式 | 选中光标经过的完整行               |
| ctrl + v | 可视块模式 | 垂直方向选中文本                   |

### 9.撤销和恢复撤销

| 命令     | 英文 | 功能         |
| -------- | ---- | ------------ |
| u        | undo | 撤销上次命令 |
| ctrl + r | redo | 恢复撤销的   |

### 10.删除文本

| 命令 | 英文   | 功能                           |
| ---- | ------ | ------------------------------ |
| x    | cut    | 删除光标所在字符，或者选中文字 |
| d    | delete | 删除移动命令对应的内容         |
| dd   | delete | 删除光标所在行，可以ndd复制    |
| D    | delete | 删除至行尾                     |

### 11.复制、粘贴

| 命令 | 英文  | 功能                      |
| ---- | ----- | ------------------------- |
| y    | copy  | 复制                      |
| yy   | copy  | 复制一行，可以nyy复制多行 |
| p    | paste | 粘贴                      |

### 12.替换

| 命令 | 英文    | 功能                   | 工作模式 |
| ---- | ------- | ---------------------- | -------- |
| r    | replace | 替换当前字符           | 命令模式 |
| R    | replace | 替换当前行光标后的字符 | 替换模式 |

### 13.缩排和重复执行

| 命令 | 功能         |
| ---- | ------------ |
| >>   | 向右增加缩进 |
| <<   | 向左减小缩进 |
| .    | 重复上次命令 |

### 14.查找

| 命令 | 功能       |
| ---- | ---------- |
| /str | 查找str    |
| n    | 查找下一个 |
| N    | 查找上一个 |

### 15.单词快速匹配

| 命令 | 功能                     |
| ---- | ------------------------ |
| *    | 向后查找当前光标所在单词 |
| #    | 向前查找当前光标所在单词 |

### 16.查找与替换

| 命令                 | 功能                                                         |
| -------------------- | ------------------------------------------------------------ |
| :%s/旧文本/新文本/g  | 一次性替换文件中的所有出现的旧文本                           |
| :s/旧文本/新文本/g   | 可视区域替换                                                 |
| :%s/旧文本/新文本/gc | 确认替换 y替换，n不替换，a替换所有，q退出替换，l最后一个，并把光标移动到行首，^E向下滚屏，^Y向上滚屏 |

### 17.插入命令

| 命令 | 英文   | 功能                   | 常用   |
| ---- | ------ | ---------------------- | ------ |
| i    | insert | 在当前字符前插入文本   | 常用   |
| I    | insert | 在行首插入文本         | 较常用 |
| a    | append | 在当前字符后添加文本   |        |
| A    | append | 在行末添加文本         | 较常用 |
| o    |        | 在当前行后面插入一空行 | 常用   |
| O    |        | 在当前行前面插入一空行 | 常用   |

### 18.末行命令扩展

| 命令      | 英文  | 功能                                     |
| --------- | ----- | ---------------------------------------- |
| :e .      | edit  | 会打开内置的文件浏览器，浏览当前目录     |
| :n 文件名 | new   | 新建文件                                 |
| :w 文件名 | write | 另存为，当是仍然编辑当前文件，并不会切换 |

### 19.分屏命令

| 命令        | 英文           | 功能           |
| ----------- | -------------- | -------------- |
| :sp 文件名  | split          | 横向增加分屏   |
| :vsp 文件名 | vertical split | 纵向增加加分屏 |

### 20.切换分屏窗口

| 命令 | 英文    | 功能                                       |
| ---- | ------- | ------------------------------------------ |
| w    | window  | 切换到下一个窗口                           |
| r    | reverse | 互换窗口                                   |
| c    | close   | 关闭当前窗口，但是不能关闭最后一个窗口     |
| q    | quit    | 退出当前窗口，如果是最后一个窗口，则关闭vi |
| o    | other   | 关闭其他窗口                               |

